<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">

    <title>三一重工对账通</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/progress-wizard.min.css">
    <link type="text/css" href="css/angular-bootstrap-lightbox.min.css">
    <link rel="stylesheet" href="css/picbox.css">
    <link rel="stylesheet" href="css/ladda-themeless.min.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body data-ng-app="sany">
<div ng-controller="MainCtrl">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid" style="position: relative">
            <!--<div class="navbar-hear">-->
            <div>
                <a id="brandBlock" class="navbar-brand" href ng-click="signOut()"
                   style="position:relative; display: inline-block; white-space: nowrap; float: left">
                    <span><img src="favicon.ico" width="auto" height="20px"
                               style="margin: 0; padding-right: 5px; float:left;"></span>
                    三一重工对账通
                </a>
            </div>
            <div class="">
                <div ng-hide="loggedInUser" style="display: none">
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right small">
                            <li><a id="loginBtn" data-toggle="modal" data-target="#loginModal" href="">登陆</a></li>
                            <li><a id="registerBtn" data-toggle="modal" data-target="#registerModal" href=""
                                   class="">注册</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div style="display: none" ng-show="loggedInUser" class="dropdown">
                    <!--<a class="dropdown-toggle " data-toggle="dropdown">
                        <span class="glyphicon glyphicon-user"></span><span class="caret"></span></a>
                    &lt;!&ndash;<div class="navbar-collapse collapse">&ndash;&gt;
                    &lt;!&ndash;<ul class="nav navbar-nav navbar-right small">&ndash;&gt;
                    <ul class="dropdown-menu" role="menu" id="infoMenu">
                        <li>
                            <a ng-click="userInfo()" href>个人信息</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="" ng-click="signOut()" href>
                                注销登陆</a>
                        </li>
                    </ul>-->
                    <!--</div>-->
                    <div id="" class="nav navbar-nav navbar-right small " style="margin-right: 30px; margin-top: 15px; ">
                    <span uib-dropdown on-toggle="toggled(open)">
                        <button href id="infoOpMenu" uib-dropdown-toggle class="btn btn-primary"
                                ng-class="{'btn-danger':loggedInUser.role=='bm'}"
                                style="font-size: large; ">
                            <i class="glyphicon glyphicon-user"></i>
                            <span style="color: white">{{loggedInUser.name | limitTo:4}}</span>
                            <i class="caret"></i>
                        </button>
                        <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="infoOpMenu">
                            <li>
                                <a ng-click="userInfo()" href>个人信息</a>
                            </li>
                            <li>
                                <a ng-click="userInfoEdit()" href>信息修改</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a class="" ng-click="signOut()" href>
                                    注销登陆</a>
                            </li>
                        </ul>
                    </span>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div id="loginModal" class="modal fade" aria-hidden="true" ng-controller="SignInCtrl">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        ×
                    </button>
                    <h2 class="text-center text-primary modal-title">登陆</h2>
                </div>
                <div class="modal-body">
                    <!--<form action="" class="form col-md-12 center-block">
                        <div class="form-group">
                            <input id="username" class="form-control input-lg" placeholder="用户名" type="text">
                        </div>
                        <div class="form-group">
                            <input id="psword" class="form-control input-lg" placeholder="密码" type="password">
                        </div>
                        <div class="form-group">
                            <button id="clickLoginBtn" class="btn btn-primary btn-lg btn-block">立刻登陆</button>
                            <span><a href="">找回密码</a></span>
                            <span><a href="" class="pull-right">注册</a></span>
                        </div>
                    </form>-->
                    <form name="loginForm" id="loginForm" role="form" data-toggle="validator" class="form center-block">
                        <!--ng-controller="loginFormCtrl"-->

                        <!--                        	<div class="form-group row" ng-init="formUser.role='U'">
                                                        <label class="control-label  col-md-3">人员类型：
                                                            <select ng-model="formUser.role" class="form-control col-md-3">
                                                                <option value="U">财务人员</option>
                                                                <option value="M">财务总监</option>
                                                                &lt;!&ndash;<option value="S">系统管理员</option>&ndash;&gt;
                                                            </select>
                                                        </label>
                                                    </div>-->
                        <!--<div class="btn-group form-group">
                            <button ng-model="formUser.role" uib-btn-radio="'U'" class="btn"
                                    ng-class="formUser.role=='U'?'btn-primary':'btn-default'" type="button">
                                财务员
                            </button>
                            <button ng-model="formUser.role" uib-btn-radio="'M'" class="btn"
                                    ng-class="formUser.role=='M'?'btn-primary':'btn-default'" type="button">
                                管理员
                            </button>
                            &lt;!&ndash;<button ng-model="formUser.role" uib-btn-radio="'S'" class="btn"&ndash;&gt;
                            &lt;!&ndash;ng-class="formUser.role=='S'?'btn-primary':'btn-default'" type="button">系统管理员&ndash;&gt;
                            &lt;!&ndash;</button>&ndash;&gt;
                        </div>-->
                        <div class="form-group">
                            <!--<label class=" control-label">登陆名：</label>-->
                            <input name="uid" id="loginUid" class="form-control input-lg" type="text"
                                   ng-model="formUser.uid"
                                   placeholder="用户名" style="ime-mode: inactive" data-error="用户名格式有误"
                                   autofocus required>
                            <!--ng-class="{ 'has-error' : loginForm.uid.$invalid && !loginForm.uid.$pristine }"-->

                            <!--pattern="^[a-zA-Z0-9]{1,}"-->
                        </div>
                        <div class="form-group">
                            <!--<label class=" control-label">密码：</label>-->
                            <input name="upwd" type="password" ng-model="formUser.upwd" placeholder="密码"
                                   class="form-control input-lg"
                                   data-error="密码格式有误" required
                            >
                            <!--ng-class="{ 'has-error' : loginForm.fjdfdsdupwd.$invalid && !loginForm.upwd.$pristine }"-->
                            <!--&lt;!&ndash; <div class="help-block with-errors">密码错误</div> &ndash;&gt;-->
                        </div>
                        <div ng-show="errMsg" ng-bind="errMsg" class=" with-errors text-danger"></div>
                        <!--<div class="form-group form-inline hidden">-->
                        <!--<label>-->
                        <!--<input name="rememberMe" ng-model="formUser.rememberMe" type="checkbox"/>-->
                        <!--自动登陆-->
                        <!--</label>-->
                        <!--</div>-->
                        <div class="form-group">
                            <button type="submit" class="btn btn-block btn-primary input-lg" ng-click="submitForm()"
                                    title="{{loginForm.$invalid?'输入有误':''}}"
                            >
                                <!--ng-disabled="loginForm.$invalid"-->
                                登陆
                            </button>
                        </div>
                    </form>
                </div>
                <div id="modalFooter" class="modal-footer">
                    <div class="form-group">
                        <button class="pull-left btn btn-link"
                                onclick="loginModal.modal('hide');resetPwdModal.modal('show')">忘记密码？
                        </button>
                        <button class="btn btn-link pull-right btn-lg"
                                onclick="loginModal.modal('hide');registerModal.modal('show')">注册
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="registerModal" class="modal fade" aria-hidden="true" ng-controller="SignUpCtrl as signUpCtrl">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        ×
                    </button>
                    <h2 class="text-center text-primary">注册</h2>
                </div>
                <div class="modal-body">
                    <form name="signUpForm" id="signUpForm" data-toggle="validator" role="form" novalidate>
                        <!--用户角色-->
                        <div class="btn-group form-group" ng-init="signUpCtrl.formUser.role='U'">
                            <button ng-model="signUpCtrl.formUser.role" uib-btn-radio="'U'" class="btn"
                                    ng-class="signUpCtrl.formUser.role=='U'?'btn-primary':'btn-default'" type="button">
                                代理商财务
                            </button>
                            <button ng-model="signUpCtrl.formUser.role" uib-btn-radio="'Z'" class="btn"
                                    ng-class="signUpCtrl.formUser.role=='Z'?'btn-primary':'btn-default'" type="button">
                                代理商管理员
                            </button>
                            <!--<button ng-model="signUpCtrl.formUser.role" uib-btn-radio="'S'" class="btn"-->
                            <!--ng-class="signUpCtrl.formUser.role=='S'?'btn-primary':'btn-default'" type="button">系统管理员-->
                            <!--</button>-->
                        </div>
                        <!--登陆名域-->
                        <div class="form-group">
                            <!--<label  class="control-label">登陆名：</label>-->
                            <input type="text" ng-model="signUpCtrl.formUser.uid"
                                   placeholder="用户名"
                                   class="form-control"
                                   required>
                            <!--<div class="help-block with-errors">无效/已存在</div>-->
                            <!--pattern="^[a-zA-Z0-9]{1,}"-->
                        </div>
                        <!--密码域-->
                        <div class="form-group">
                            <!--<label  class="control-label">密码：</label>-->
                            <input id="inputPwd" type="password" ng-model="signUpCtrl.formUser.upwd" placeholder="密码"
                                   class="form-control"
                                   required>
                            <!-- <div class="help-block with-errors">密码错误</div> -->
                        </div>
                        <!--密码域-->
                        <div class="form-group">
                            <!--<label  class="control-label">密码：</label>-->
                            <input type="password" ng-model="signUpCtrl.formUser.upwdCfm" placeholder="再次输入密码"
                                   class="form-control"
                                   required>
                            <!-- <div class="help-block with-errors">密码错误</div> -->
                        </div>
                        <div class="form-group">
                            <input type="text" ng-model="signUpCtrl.formUser.name" placeholder="真实姓名"
                                   class="form-control"
                                   required>
                        </div>
                        <div class="form-group">
                            <input type="tel" ng-model="signUpCtrl.formUser.phone" placeholder="电话" class="form-control"
                                   required>
                        </div>
                        <div class="form-group">
                            <input type="email" ng-model="signUpCtrl.formUser.email" placeholder="电子邮箱"
                                   class="form-control" required>
                        </div>
                        <div class="form-group has-feedback ">
                            <div class="">
                                <input type="text" ng-model="signUpCtrl.formUser.agent" placeholder="所属代理商"
                                       uib-typeahead=" agent as agent.name for agent in agents | filter:{name:$viewValue}"
                                       class="form-control" typeahead-editable="false" required
                                       typeahead-show-hint="true" typeahead-min-length="0">
                            </div>
                            <!--<span class="glyphicon glyphicon-search " style="" ></span>-->
                            <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
                            <!--<span class="glyphicon glyphicon-refresh form-control-feedback"></span>-->
                        </div>
                        <!-- <div class="form-group">
                             <input type="text" ng-model="signUpCtrl.formUser.inviteCode" placeholder="注册邀请码"
                                    class="form-control" required>
                         </div>-->
                        <div class="with-errors text-danger" ng-bind="signUpCtrl.errMsg"></div>
                        <div class="form-group">
                            <button class="btn btn-primary btn-block form-control" type="submit"
                                    ng-click="signUpCtrl.submitForm()"
                            >注册
                                <!--ng-disabled="signUpForm.$invalid"-->
                            </button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div>已有账户？我要
                        <button class="btn btn-link"
                                onclick="registerModal.modal('hide');loginModal.modal('show')">登陆
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="resetPwdModal" class="modal fade" aria-hidden="true" ng-controller="ResetPwdCtrl as resetPwdCtrl">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        ×
                    </button>
                    <span class="h2 text-center text-primary">找回密码</span>
                </div>
                <div class="modal-body">
                    <form id="resetPwdForm" role="form" data-toggle="validator"
                          ng-init="resetPwdCtrl.form.vcRecvWay='mail';resetPwdCtrl.vcRecvBtnTip={enable:true}">
                        <div class="form-group">
                            <label class="control-label">用户名：</label>
                            <input class="form-control" ng-model="resetPwdCtrl.form.uid" placeholder="用户名" required>
                        </div>
                        <div class="form-group">
                            <label class="control-label">接收验证码：</label>
                            <select class="form-control" ng-model="resetPwdCtrl.form.vcRecvWay">
                                <option value="mail">邮箱</option>
                                <option value="mobile">手机</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">验证码：</label>
                            <div class="form-inline">
                                <input class="form-control" ng-model="resetPwdCtrl.form.vc" placeholder="验证码" required>
                                <button id="resetPwdVCRecvBtn" ng-click="resetPwdCtrl.vcRecv()" class="btn"
                                        uib-tooltip="{{resetPwdCtrl.vcRecvBtnTip.msg}}"
                                        tooltip-enable="resetPwdCtrl.vcRecvBtnTip.enable"
                                        tooltip-placement="top" tooltip-is-open="resetPwdCtrl.vcRecvBtnTip.isOpen"
                                        tooltip-trigger="'none'" ->获取验证码
                                    <!--->
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" ng-click="resetPwdCtrl.submitForm()">提交
                            </button>
                        </div>
                        <div class="with-errors text-danger" ng-bind="resetPwdCtrl.errMsg"></div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-link btn-lg"
                            onclick="resetPwdModal.modal('hide');loginModal.modal('show')">登陆
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" data-ui-view="">
    </div>
</div>


<script type="text/ng-template" id="msgbox.html">
    <div>
        <div class="modal-header">
            <span class="glyphicon glyphicon-remove top-right pull-right close" ng-click="closeMsgbox()"
                  ng-hide="msgCfg.noCloseBtn"></span>
            <h3 class="modal-title" ng-bind="msgCfg.title">消息</h3>
        </div>
        <div class="modal-body" ng-bind-html="msgCfg.msgHtml"></div>
        <div class="modal-footer">
            <button class="btn btn-default" ng-click="okBtnClick()" ng-show="msgCfg.okBtn">确定</button>
            <button class="btn btn-default" ng-click="cancelBtnClick()" ng-show="msgCfg.cancelBtn">取消</button>
            <button class="btn btn-default" ng-click="closeMsgbox()"
                    ng-hide="(msgCfg.okBtn!==undefined||msgCfg.cancelBtn!==undefined)||msgCfg.noCloseBtn">关闭
            </button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="u-info.html">
    <div>
        <h1>您好，<strong class="text-primary" ng-bind="loggedInUser.name"></strong>。</h1>
    </div>
</script>

<script id="stDateRange.html" type="text/ng-template">
    <div class="input-group">
        <input type="text" class="form-control input-sm" uib-datepicker-popup="{{appConf.tmFmtYMD}}" ng-model="after"
               is-open="isAfterOpen" clear-text="清除" close-text="关闭" current-text="今天" placeholder="之后"
               datepicker-options="afterOpt" ng-change="afterDateChange(after)"/>
            <span class="input-group-btn">
                <button type="button" class="btn btn-default btn-sm" ng-click="openAfter($event)">
                    <i class="glyphicon glyphicon-calendar"></i>
                </button>
            </span>
    </div>

    <div class="input-group">
        <input type="text" class="form-control input-sm" uib-datepicker-popup="{{appConf.tmFmtYMD}}" ng-model="before"
               is-open="isBeforeOpen" clear-text="清除" close-text="关闭" current-text="今天" placeholder="之前"
               datepicker-options="beforeOpt" ng-change="beforeDateChange(before)"/>
            <span class="input-group-btn">
                <button type="button" class="btn btn-default btn-sm" ng-click="openBefore($event)">
                    <i class="glyphicon glyphicon-calendar"></i>
                </button>
            </span>
    </div>
</script>

<script id="stNumberRange.html" type="text/ng-template">
    <div class="">
        <input type="number" class="form-control input-sm" step="{{lowerStep||step}}" ng-model="higher" placeholder="总额高于" min="0"
               max="{{lower}}"/>
        <input class="form-control input-sm" type="number" step="{{higherStep||step}}" ng-model="lower" placeholder="总额低于"
               min="{{higher}}"/>
    </div>
</script>

<script type="text/ng-template" id="fw-grid-pagination.html">
    <nav ng-if="numPages && pages.length >= 2">
        <ul class="pagination">
            <li><a href ng-click="selectPage(1)">首页</a></li>
            <li ng-class="{disabled:currentPage<=1}"><a href ng-click="selectPage(currentPage-1)">上页</a></li>
            <li ng-show="pages[0]>1"><a>…</a></li>
            <li ng-repeat="page in pages" ng-class="{active: page==currentPage}">
                <a href ng-click="selectPage(page)">{{page}}</a>
            </li>
            <li ng-show="pages[pages.length-1]<numPages"><a>…</a></li>
            <li ng-class="{disabled:currentPage>=numPages}"><a href ng-click="selectPage(currentPage+1)">下页</a></li>
            <li><a href ng-click="selectPage(numPages)">尾页</a></li>

            <li><a>&nbsp;</a></li>
            <li>
                <a><!--value="{{currentPage}}"-->
                    <!--跳转：--><input ng-model="pageInput" min="1" max="{{numPages}}" size="{{(''+numPages).length}}" placeholder="页码" type="number"
                    style="margin: -1px;padding: 0;border: 1px groove;"
                    onkeypress="if(event.keyCode==13){$('#goPageBtn')[0].click();return false;}"> / {{numPages}}
                    <a id="goPageBtn" href ng-click="selectPage(pageInput)" ng-class="{disabled:!pageInput||pageInput<1||pageInput>numPages}" type="submit"><i class="glyphicon glyphicon-arrow-right"></i></a>
                </a>
            </li>
        </ul>
    </nav>
</script>


<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/angular.min.js"></script>
<script src="js/angular-locale_zh-cn.js"></script>
<script src="js/angular-animate.min.js"></script>
<script src="js/angular-sanitize.min.js"></script>
<script src="js/ui-bootstrap-tpls.min.js"></script>
<script src="js/angular-ui-router.min.js"></script>
<script src="js/statehelper.min.js"></script>
<script src="js/smart-table.min.js"></script>
<script src="js/angular-cookies.min.js"></script>
<script src="js/ng-file-upload-all.min.js"></script>
<script src="js/angular-bootstrap-lightbox.min.js"></script>
<script src="js/picbox.js"></script>
<script src="js/spin.js"></script>
<script src="js/ladda.js"></script>
<script src="js/angular-ladda.min.js"></script>
<script src="js/moment.min.js"></script>

<script src="js/enc.js"></script>
<script src="js/app.js"></script>
<script src="js/app-filter.js"></script>
<script src="js/app-service.js"></script>
<script src="js/app-controller.js"></script>
<script src="js/app-state.js"></script>
</body>
</html>